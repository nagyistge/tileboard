<!DOCTYPE html>
<meta charset="utf-8">
<style>
html {
  font-family: "Helvetica Neue", Helvetica, sans-serif;
}

.board tr {
  display: block;
}

.board td {
  display: inline-block;
  position: relative;
  width: 64px;
  height: 64px;
  background: black;
  border-right: 1px solid white;
  border-bottom: 1px solid white;
  padding: 0;
}

.board img {
  position: absolute;
  top: 0px;
  left: 0px;
  width: 100%;
  height: 100%;
  z-index: 1;
}

.js-moving {
  transition-property: left, top;
  transition-duration: 1s, 1s;
  -webkit-transition-property: left, top;
  -webkit-transition-duration: 1s, 1s;
}
</style>
<title>Tileboard</title>
<h1>Tileboard</h1>
<script src="random-mover.js"></script>
<script src="smoothify-movement.js"></script>
<script>
"use strict";

function makeEmptyBoard() {
  var BOARD_WIDTH = 8;
  var BOARD_HEIGHT = 8;
  var LETTERS = "abcdefgh";
  var table = document.createElement("table");
  
  table.classList.add("board");

  for (var y = 0; y < BOARD_HEIGHT; y++) {
    var row = document.createElement("tr");

    table.appendChild(row);
    
    for (var x = 0; x < BOARD_WIDTH; x++) {
      var td = document.createElement("td");
      var id = LETTERS[x] + (BOARD_HEIGHT - y);

      td.setAttribute("id", id);
      td.setAttribute("title", id);
      td.classList.add("col-" + LETTERS[x]);
      td.classList.add("row-" + (BOARD_HEIGHT - y));
      row.appendChild(td);
    }
  }

  return table;
}

window.addEventListener("DOMContentLoaded", function() {
  var table = makeEmptyBoard();
  var smoothifyObserver = smoothifyMovement(table);
  
  var piece = document.createElement("img");
  piece.classList.add("random-mover");
  piece.src = "https://developer.cdn.mozilla.net/media/img/mdn-logo-sm.png";
  table.querySelector("#a1").appendChild(piece);
  document.body.appendChild(table);
}, false);
</script>
<script src="vendor/zepto.js"></script>
